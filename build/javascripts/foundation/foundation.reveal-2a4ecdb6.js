!function(t,e){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.0.9",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,s,i){return this.scope=e||this.scope,Foundation.inherit(this,"data_options delay"),"object"==typeof s&&t.extend(!0,this.settings,s),"string"!=typeof s?(this.events(),this.settings.init):this[s].call(this,i)},events:function(){var e=this;return t(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(s){s.preventDefault(),e.locked||(e.locked=!0,e.open.call(e,t(this)))}).on("click.fndtn.reveal touchend.click.fndtn.reveal",this.close_targets(),function(s){s.preventDefault(),e.locked||(e.locked=!0,e.close.call(e,t(this).closest(".reveal-modal")))}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),!0},open:function(e){if(e)var s=t("#"+e.data("reveal-id"));else var s=t(this.scope);if(!s.hasClass("open")){var i=t(".reveal-modal.open");"undefined"==typeof s.data("css-top")&&s.data("css-top",parseInt(s.css("top"),10)).data("offset",this.cache_offset(s)),s.trigger("open"),i.length<1&&this.toggle_bg(s),this.hide(i,this.settings.css.open),this.show(s,this.settings.css.open)}},close:function(e){var e=e||t(this.scope),s=t(".reveal-modal.open");s.length>0&&(this.locked=!0,e.trigger("close"),this.toggle_bg(e),this.hide(s,this.settings.css.close))},close_targets:function(){var t="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?t+", ."+this.settings.bgClass:t},toggle_bg:function(e){0===t(".reveal-modal-bg").length&&(this.settings.bg=t("<div />",{"class":this.settings.bgClass}).insertAfter(e)),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(s,i){if(i){if(/pop/i.test(this.settings.animation)){i.top=t(e).scrollTop()-s.data("offset")+"px";var n={top:t(e).scrollTop()+s.data("css-top")+"px",opacity:1};return this.delay(function(){return s.css(i).animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,s.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var n={opacity:1};return this.delay(function(){return s.css(i).animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,s.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return s.css(i).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?s.fadeIn(this.settings.animationSpeed/2):s.show()},hide:function(s,i){if(i){if(/pop/i.test(this.settings.animation)){var n={top:-t(e).scrollTop()-s.data("offset")+"px",opacity:0};return this.delay(function(){return s.animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,s.css(i).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var n={opacity:0};return this.delay(function(){return s.animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,s.css(i).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return s.hide().css(i).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?s.fadeOut(this.settings.animationSpeed/2):s.hide()},close_video:function(){var e=t(this).find(".flex-video"),s=e.find("iframe");s.length>0&&(s.attr("data-src",s[0].src),s.attr("src","about:blank"),e.fadeOut(100).hide())},open_video:function(){var e=t(this).find(".flex-video"),s=e.find("iframe");if(s.length>0){var i=s.attr("data-src");"string"==typeof i&&(s[0].src=s.attr("data-src")),e.show().fadeIn(100)}},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")}}}(Foundation.zj,this,this.document);